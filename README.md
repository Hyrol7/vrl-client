# VRL Client

–õ–æ–∫–∞–ª—å–Ω–∏–π –∫–ª—ñ—î–Ω—Ç –¥–ª—è –∑–±–æ—Ä—É —Ç–∞ –æ–±—Ä–æ–±–∫–∏ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—ó –≤—ñ–¥ Mode S/FLARM –¥–µ–∫–æ–¥–µ—Ä–∞ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

---

## üìã –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **TCP –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –¥–µ–∫–æ–¥–µ—Ä–∞** –Ω–∞ –ø–æ—Ä—Ç—É 31003
- ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ AVR —Ñ–æ—Ä–º–∞—Ç—É** (K1/K2 –ø–∞–∫–µ—Ç–∏) –∑ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è–º –ø–æ–∑–∏–≤–Ω–∏—Ö —Ç–∞ –≤–∏—Å–æ—Ç–∏
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞ SQLite –ë–î** –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–∏—Ä–∏—Ö —Ç–∞ –æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —á–∞—Å—É** –∑ NTP —Å–µ—Ä–≤–µ—Ä–æ–º (–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å—É)
- ‚úÖ **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–∏–π ping** –Ω–∞ API —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–±—ñ—Ä–∫–∞ –≤ exe** —á–µ—Ä–µ–∑ GitHub Actions
- ‚úÖ **–ì–Ω—É—á–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è** —á–µ—Ä–µ–∑ YAML
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É** –∑ –∑–∞–ø–∏—Å–æ–º —Å—Ç–∞—Ç—É—Å—É –≤ –ë–î

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –í–∞—Ä—ñ–∞–Ω—Ç A: –ì–æ—Ç–æ–≤–∏–π EXE (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π)

1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é –≤–µ—Ä—Å—ñ—é `VRL_Client.exe` –∑ [Releases](https://github.com/Hyrol7/vrl-client/releases)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ñ–∞–π–ª –Ω–∞ Windows –∫–æ–º–ø'—é—Ç–µ—Ä—ñ
3. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ `config.yaml`
4. –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥ (–¥–æ–¥–∞—Ç–∏ —à–ª—è—Ö –¥–æ –¥–µ–∫–æ–¥–µ—Ä–∞, API –ø–∞—Ä–∞–º–µ—Ç—Ä–∏)
5. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–Ω–æ–≤—É - –≤—Å–µ –≥–æ—Ç–æ–≤–æ!

### –í–∞—Ä—ñ–∞–Ω—Ç B: –ó –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É (–≥–Ω—É—á–∫—ñ—à–∏–π)

**–í–∏–º–æ–≥–∏:**
- Python 3.8+
- Git

**–ö—Ä–æ–∫–∏:**

```bash
# 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/Hyrol7/vrl-client.git
cd vrl-client

# 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)
python -m venv venv
source venv/bin/activate  # Linux/macOS
# –∞–±–æ
venv\Scripts\activate     # Windows

# 3. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r vrl_client/requirements.txt

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏
python vrl_client/vrl.py
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è `config.yaml` –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.

### –û—Å–Ω–æ–≤–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

```yaml
app:
  name: VRL Client
  version: 0.2.0
  timezone: 'Europe/Kiev'        # –í–∞—à —á–∞—Å–æ–≤–∏–π –ø–æ—è—Å

decoder:
  host: 127.0.0.1                # IP –∞–¥—Ä–µ—Å–∞ –¥–µ–∫–æ–¥–µ—Ä–∞
  port: 31003                    # –ü–æ—Ä—Ç –¥–µ–∫–æ–¥–µ—Ä–∞
  executable: ''                 # –®–ª—è—Ö –¥–æ decoder.exe (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
  
api:
  url: 'https://your-api.com/api/flights'
  status_url: 'https://your-api.com/status.php'
  client_id: 1
  secret_key: 'your-secret-key'
  bearer_token: 'your-bearer-token'
  ping_interval: 30              # –°–µ–∫—É–Ω–¥–∏

database:
  file: 'base.db'
```

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

#### –õ–æ–∫–∞–ª—å–Ω–∏–π –¥–µ–∫–æ–¥–µ—Ä (–Ω–∞ —Ç–æ–º—É –∂ –∫–æ–º–ø'—é—Ç–µ—Ä—ñ)

```yaml
decoder:
  host: 127.0.0.1
  port: 31003
  executable: C:\path\to\decoder.exe
```

#### –î–µ–∫–æ–¥–µ—Ä –Ω–∞ —ñ–Ω—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–µ—Ä–µ–∂—ñ

```yaml
decoder:
  host: 192.168.1.100
  port: 31003
```

#### API –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É

```yaml
api:
  url: http://localhost:8000/api/flights
  client_id: 1
  secret_key: test-key
```

#### API –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –∑ HTTPS

```yaml
api:
  url: https://your-domain.com/api/flights
  client_id: 1
  secret_key: your-actual-secret-key
  bearer_token: eyJhbGciOiJIUzI1NiIs...
```

---

## üöÄ –ó–∞–ø—É—Å–∫

### –ó–∞–ø—É—Å–∫ EXE —Ñ–∞–π–ª—É

**–°–ø–æ—Å—ñ–± 1: –ß–µ—Ä–µ–∑ –ü—Ä–æ–≤—ñ–¥–Ω–∏–∫**
- –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –Ω–∞ `VRL_Client.exe`

**–°–ø–æ—Å—ñ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫**
```cmd
cd C:\path\to\VRL_Client
VRL_Client.exe
```

**–°–ø–æ—Å—ñ–± 3: –ß–µ—Ä–µ–∑ PowerShell**
```powershell
& 'C:\path\to\VRL_Client.exe'
```

### –ó–∞–ø—É—Å–∫ –∑ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É

```bash
python vrl_client/vrl.py
```

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–õ–æ–∫–∞–ª—å–Ω–∞ SQLite –ë–î (`base.db`) –º—ñ—Å—Ç–∏—Ç—å:

### packets_raw - —Å–∏—Ä—ñ –ø–∞–∫–µ—Ç–∏ –≤—ñ–¥ –¥–µ–∫–æ–¥–µ—Ä–∞
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID
- `event_time` - —á–∞—Å –ø–æ–¥—ñ√Ø
- `type` - —Ç–∏–ø –ø–∞–∫–µ—Ç–∞ (1=K1, 2=K2)
- `callsign` - –ø–æ–∑–∏–≤–Ω–∏–π –ª—ñ—Ç–∞–∫–∞
- `height` - –≤–∏—Å–æ—Ç–∞
- `fuel` - –∑–∞–ª–∏—à–æ–∫ –ø–∞–ª–∏–≤–∞
- `sent` - —Ñ–ª–∞–≥ –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### logs - –∂—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π —Å–∏—Å—Ç–µ–º–∏
- `level` - —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è (INFO, WARNING, ERROR)
- `component` - –º–æ–¥—É–ª—å, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥ –ª–æ–≥
- `message` - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- `details` - –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–µ—Ç–∞–ª—ñ
- `created_at` - —á–∞—Å –ª–æ–≥—É–≤–∞–Ω–Ω—è

### status - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∏
- `event_time` - —á–∞—Å –∑–∞–ø–∏—Å—É
- –°—Ç–∞–Ω–∏ –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (parser, analyser, sender, ping_handler)
- –°–∏—Å—Ç–µ–º–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ (memory, cpu, uptime)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
vrl_client/
‚îú‚îÄ‚îÄ vrl.py                       # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ parser.py                    # TCP –ø–∞—Ä—Å–µ—Ä –≤—ñ–¥ –¥–µ–∫–æ–¥–µ—Ä–∞
‚îú‚îÄ‚îÄ analyser.py                  # –û–±—Ä–æ–±–Ω–∏–∫ –¥–∞–Ω–∏—Ö (K1‚ÜîK2 matching)
‚îú‚îÄ‚îÄ sender.py                    # –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –Ω–∞ API
‚îú‚îÄ‚îÄ ping_handler.py              # –ü–µ—Ä–∏–æ–¥–∏—á–Ω–∏–π ping
‚îú‚îÄ‚îÄ status_manager.py            # –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∏
‚îú‚îÄ‚îÄ initialization.py            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –ë–î
‚îú‚îÄ‚îÄ time_sync.py                 # –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —á–∞—Å—É –∑ NTP
‚îú‚îÄ‚îÄ decoder.py                   # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è subprocess –¥–µ–∫–æ–¥–µ—Ä–∞
‚îú‚îÄ‚îÄ build_exe.py                 # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–±—ñ—Ä–∫–∏ exe
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ config.yaml                  # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è)
‚îú‚îÄ‚îÄ base.db                      # SQLite –±–∞–∑–∞ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è)
‚îú‚îÄ‚îÄ test_quick.py                # –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç –±–µ–∑ –¥–µ–∫–æ–¥–µ—Ä–∞
‚îî‚îÄ‚îÄ test_core.py                 # –ü–æ–≤–Ω–∏–π —Ç–µ—Å—Ç –∑ –¥–µ–∫–æ–¥–µ—Ä–æ–º

.github/workflows/
‚îî‚îÄ‚îÄ build-exe.yml                # GitHub Actions –¥–ª—è –∑–±—ñ—Ä–∫–∏ exe

build.py                         # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ exe
LICENSE                          # MIT –ª—ñ—Ü–µ–Ω–∑—ñ—è
README.md                        # –¶–µ–π —Ñ–∞–π–ª
```

---

## üî® –ü–æ–±—É–¥–æ–≤–∞ EXE —Ñ–∞–π–ª—É

### –õ–æ–∫–∞–ª—å–Ω–∞ –ø–æ–±—É–¥–æ–≤–∞

**–í–∏–º–æ–≥–∏:**
```bash
pip install pyinstaller pyyaml requests psutil
```

**–ú–µ—Ç–æ–¥ 1: Python —Å–∫—Ä–∏–ø—Ç**
```bash
cd vrl_client
python build_exe.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ –≤ `dist/VRL_Client.exe`

**–ú–µ—Ç–æ–¥ 2: PyInstaller –Ω–∞–ø—Ä—è–º—É**
```bash
cd vrl_client
pyinstaller --onefile \
  --name=VRL_Client \
  --hidden-import=yaml \
  --hidden-import=requests \
  --hidden-import=psutil \
  vrl.py
```

### GitHub Actions –ø–æ–±—É–¥–æ–≤–∞

**–ß–µ—Ä–µ–∑ tag (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ):**
```bash
git tag v0.2.0
git push origin v0.2.0
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å build workflow
2. –ö–æ–º–ø—ñ–ª—é—î exe-—Ñ–∞–π–ª –Ω–∞ Windows
3. –°—Ç–≤–æ—Ä—é—î Release –∑ exe-—Ñ–∞–π–ª–æ–º

**–†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ —Ç–∞–≥—É):**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions** –Ω–∞ GitHub
2. –í–∏–±–µ—Ä—ñ—Ç—å **Build EXE** workflow
3. –ö–ª–∞—Ü–Ω—ñ—Ç—å **Run workflow**
4. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

---

## üìù –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó —Ç–∞ Release

### 1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `vrl_client/initialization.py`:
```python
DEFAULT_CONFIG = {
    'app': {
        'version': '0.2.0',  # ‚Üê –û–Ω–æ–≤—ñ—Ç—å –≤–µ—Ä—Å—ñ—é
    }
}
```

### 2. Commit —Ç–∞ Push

```bash
git add .
git commit -m "release: v0.2.0"
git push origin main
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Release

```bash
git tag v0.2.0
git push origin v0.2.0
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–±—É–¥–æ–≤—É.

---

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
pip install pytest black flake8
```

### –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É

```bash
black vrl_client/
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∏–ª—é

```bash
flake8 vrl_client/
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç (–±–µ–∑ –¥–µ–∫–æ–¥–µ—Ä–∞):**
```bash
python vrl_client/test_quick.py
```

**–ü–æ–≤–Ω–∏–π —Ç–µ—Å—Ç (–∑ –¥–µ–∫–æ–¥–µ—Ä–æ–º):**
```bash
python vrl_client/test_core.py
```

### Git Workflow

1. **Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é** –Ω–∞ –≤–∞—à–æ–º—É GitHub
2. **Clone** —Å–≤–æ–≥–æ fork:
   ```bash
   git clone https://github.com/YOUR_USERNAME/vrl-client.git
   cd vrl-client
   ```

3. **–°—Ç–≤–æ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É** –¥–ª—è –≤–∞—à–æ—ó —Ñ—ñ—á–∞:
   ```bash
   git checkout -b feature/–º–æ—è-—Ñ—ñ—á–∞
   ```

4. **–ó—Ä–æ–±—ñ—Ç—å –∑–º—ñ–Ω–∏** —Ç–∞ –∑–∞–∫–æ–º—ñ—Ç—å—Ç–µ:
   ```bash
   git commit -m "feat: –û–ø–∏—Å–∞–Ω–Ω—è –∑–º—ñ–Ω"
   ```

5. **Push –Ω–∞ GitHub:**
   ```bash
   git push origin feature/–º–æ—è-—Ñ—ñ—á–∞
   ```

6. **–°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request** —á–µ—Ä–µ–∑ GitHub Web UI

**–§–æ—Ä–º–∞—Ç commit –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:**
- `feat:` ‚Äî –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- `fix:` ‚Äî –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–∞–≥–∞
- `docs:` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- `test:` ‚Äî —Ç–µ—Å—Ç–∏
- `refactor:` ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

---

## ‚ö†Ô∏è Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "–î–µ–∫–æ–¥–µ—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π"

```
ERROR: Decoder not found at: C:\path\to\decoder.exe
```

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–µ—Ä–µ–≤—ñ—Ä—å—Ç–µ —à–ª—è—Ö –¥–æ `decoder.exe` –≤ `config.yaml`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ñ–∞–π–ª —ñ—Å–Ω—É—î —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–π

### TCP –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

```
ERROR: Failed to connect to decoder at 127.0.0.1:31003
```

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–µ—Ä–µ–≤—ñ—Ä—å—Ç–µ, —á–∏ –¥–µ–∫–æ–¥–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π
- –ü–µ—Ä–µ–≤—ñ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å—É —Ç–∞ –ø–æ—Ä—Ç –≤ `config.yaml`
- –ù–∞ Linux/macOS: `netstat -an | grep 31003`
- –ù–∞ Windows: `netstat -an | findstr 31003`

### –ß–∞—Å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –Ω–µ –≤–¥–∞–ª–∞—Å—è

```
WARNING: Failed to synchronize time with NTP server
```

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–µ—Ä–µ–≤—ñ—Ä—å—Ç–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç –∑'—î–¥–Ω–∞–Ω–Ω—è
- –ù–∞ Windows –º–æ–∂–µ –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ –ø—Ä–∞–≤ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ü–æ–º–∏–ª–∫–∞ –∫–æ–¥—É–≤–∞–Ω–Ω—è –Ω–∞ Windows –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É build_exe.py

```
UnicodeEncodeError: 'charmap' codec can't encode character
```

**–†—ñ—à–µ–Ω–Ω—è:**
- –¶–µ –≤–∂–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø–æ—Ç–æ—á–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î UTF-8 –∫–æ–¥—É–≤–∞–Ω–Ω—è

### –ü–æ–º–∏–ª–∫–∞: "File not found: config.yaml" –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É exe

**–†—ñ—à–µ–Ω–Ω—è:**
- `config.yaml` –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤ —Ç—ñ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó, —â–æ –π exe
- –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É exe –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –∫–æ–Ω—Ñ—ñ–≥

---

## üîê –ë–µ–∑–ø–µ–∫–∞

- **HMAC SHA256 —Å–∏–≥–Ω–∞—Ç—É—Ä–∏** –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ API
- **Bearer token –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**
- **config.yaml** –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –Ω–∞ GitHub (.gitignored)
- **–°–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ** –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤ –∫–æ–¥—ñ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥ —Ñ–∞–π–ª
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è **—Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏** –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ: `pip install --upgrade -r requirements.txt`

---

## üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è

–í—Å–µ –ª–æ–≥—É—î—Ç—å—Å—è –≤ –ë–î —Ç–∞–±–ª–∏—Ü—é `logs` —Ç–∞ –∫–æ–Ω—Å–æ–ª—å:

**–†—ñ–≤–Ω—ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è:**
- **INFO** - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ö—ñ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- **WARNING** - –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏
- **ERROR** - –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏

**–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ SQL:**
```bash
sqlite3 vrl_client/base.db "SELECT * FROM logs ORDER BY created_at DESC LIMIT 20;"
```

**–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏:**
```bash
sqlite3 vrl_client/base.db "SELECT * FROM status ORDER BY event_time DESC LIMIT 5;"
```

---

## üîÑ –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó

```
0. ETAP 0: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (psutil, requests, PyYAML)
   ‚Üì
1. ETAP 1: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —á–∞—Å—É –∑ NTP
   ‚Üì
2. ETAP 2: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (config.yaml)
   ‚Üì
3. ETAP 3: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ë–î (SQLite)
   ‚Üì
4. ETAP 4: –ó–∞–ø—É—Å–∫ –¥–µ–∫–æ–¥–µ—Ä–∞ (subprocess)
   ‚Üì
5. ETAP 5: –û—á—ñ–∫—É–≤–∞–Ω–Ω—è TCP –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤—ñ–¥ –¥–µ–∫–æ–¥–µ—Ä–∞
   ‚Üì
6. ETAP 6: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤
   ‚Üì
7. ETAP 7: –ó–∞–ø—É—Å–∫ 5 –æ—Å–Ω–æ–≤–Ω–∏—Ö async –∑–∞–¥–∞—á:
           - Parser (continuous TCP reading)
           - Analyser (5 sec cycle)
           - Sender (10 sec cycle)
           - Ping Handler (30 sec cycle)
           - Status Reporter (30 sec cycle)
```

---

## üìä –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

### 5 –æ—Å–Ω–æ–≤–Ω–∏—Ö async –∑–∞–¥–∞—á

1. **Parser Loop** (continuous)
   - –ß–∏—Ç–∞—î –ø–∞–∫–µ—Ç–∏ –∑ TCP
   - –ë–∞—Ç—á–∏—Ç—å –¥–æ 1000 –ø–∞–∫–µ—Ç—ñ–≤
   - –ü–∏—à–µ—Ç –≤ –±–∞–∑—É

2. **Analyser Loop** (5 sec interval)
   - –û–±—Ä–æ–±–ª—è—î –Ω–µ–ø—Ä–æ–≤—ñ—Ä–µ–Ω—ñ –ø–∞–∫–µ—Ç–∏
   - K1‚ÜîK2 matching
   - –û–Ω–æ–≤–ª—é—î record status

3. **Sender Loop** (10 sec interval)
   - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ API
   - HMAC SHA256 —Å–∏–≥–Ω–∞—Ç—É—Ä–∏
   - Bearer token –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

4. **Ping Handler** (30 sec interval)
   - –ü–µ—Ä–∏–æ–¥–∏—á–Ω–∏–π ping –Ω–∞ API
   - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î status_url

5. **Status Reporter** (30 sec interval)
   - –ó–±–∏—Ä–∞—î –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º–∏
   - –ó–∞–ø–∏—Å—É—î –≤ status —Ç–∞–±–ª–∏—Ü—é
   - –¢—Ä–µ–∫—É—î —Å—Ç–∞–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

### AppState - –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏

```python
app_state = {
    'start_time': datetime.now(),
    'parser_state': {
        'running': bool,
        'connected': bool,
        'packets_total': int,
        'packets_last_flush': int,
        'buffer_size': int,
        'last_error': str,
    },
    'analyser_state': {
        'running': bool,
        'last_run': datetime,
        'packets_processed': int,
        'last_error': str,
    },
    'sender_state': {
        'running': bool,
        'last_run': datetime,
        'packets_sent': int,
        'last_error': str,
    },
    'ping_handler_state': {
        'running': bool,
        'last_run': datetime,
        'last_error': str,
    },
}
```

---

## üì• –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è EXE

### –ó GitHub Releases

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://github.com/Hyrol7/vrl-client/releases
2. –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—É –≤–µ—Ä—Å—ñ—é
3. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ `VRL_Client.exe`

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫

```bash
# PowerShell
$url = "https://github.com/Hyrol7/vrl-client/releases/download/v0.2.0/VRL_Client.exe"
Invoke-WebRequest -Uri $url -OutFile VRL_Client.exe

# bash/curl
curl -L https://github.com/Hyrol7/vrl-client/releases/download/v0.2.0/VRL_Client.exe -o VRL_Client.exe
```

### –ß–µ—Ä–µ–∑ GitHub CLI

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å gh CLI: https://cli.github.com/

# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ
gh release download v0.2.0 -p "VRL_Client.exe"
```

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤—ñ–ª—å–Ω–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—è –¥–ª—è –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

---

## ü§ù –í–Ω–µ—Å–æ–∫

–ú–∏ –≤—ñ—Ç–∞—î–º–æ –≤—Å—ñ—Ö, —Ö—Ç–æ —Ö–æ—á–µ—Ç –¥–æ–ø–æ–º–æ–≥—Ç–∏ —Ä–æ–∑–≤–∏–≤–∞—Ç–∏ —Ü–µ–π –ø—Ä–æ–µ–∫—Ç! 

**–Ø–∫ –¥–æ–ø–æ–º–æ–≥—Ç–∏:**
1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É –¥–ª—è –≤–∞—à–æ—ó —Ñ—ñ—á–∞
3. –ó—Ä–æ–±—ñ—Ç—å –∑–º—ñ–Ω–∏ —Ç–∞ commit
4. Push —Ç–∞ —Å—Ç–≤–æ—Ä—ñ—Ç—å Pull Request

**–î–µ –¥–æ–ø–æ–º–æ–≥–∞ –Ω–∞–π–±—ñ–ª—å—à –ø–æ—Ç—Ä—ñ–±–Ω–∞:**
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (Windows 7/10/11)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∏
- REST API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- WebSocket –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- Linux/macOS –ø–æ–±—É–¥–æ–≤–∞
- GUI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- **Issues**: https://github.com/Hyrol7/vrl-client/issues
- **Discussions**: https://github.com/Hyrol7/vrl-client/discussions
- **Email**: [–≤–∞—à email]

---

## üìà Roadmap

- [ ] REST API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (Swagger/OpenAPI)
- [ ] WebSocket –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–ª—è real-time –¥–∞–Ω–∏—Ö
- [ ] Linux/macOS –ø–æ–±—É–¥–æ–≤–∞ exe
- [ ] GUI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (PyQt/Tkinter)
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- [ ] Telegram/Email –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- [ ] –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–∞—à–±–æ—Ä–¥
- [ ] –ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è

---

**–í–µ—Ä—Å—ñ—è:** 0.2.0  
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** –õ–∏—Å—Ç–æ–ø–∞–¥ 2025  
**–õ—ñ—Ü–µ–Ω–∑—ñ—è:** MIT
